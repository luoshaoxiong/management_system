webpackJsonp([1],{0:function(t,e){},"71ZB":function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("7+uW"),s={logout:"/logout",getProjectList:"/projects/getProjectList",createProject:"/projects/createProject",updateProject:"/projects/updateProject",deleteProject:"/projects/deleteProject",getQuestionList:"/library/getQueList",addQuestion:"/library/addQuestion",updateQuestion:"/library/updateQuestion",deleteQuestion:"/library/deleteQuestion",chat:"/chat"},n=i("NYxO"),r=i("bOdI"),o=i.n(r),c=i("Dd8w"),l=i.n(c),u=i("mLlr"),d=i.n(u),p={props:{placeholder:{type:String,default:""},value:{type:[String,Number],required:!0},type:{type:String,default:"text"},rows:{type:Number}},data:function(){return{inputValue:this.value}},watch:{inputValue:function(t){this.$emit("input",t)}},methods:{keydownInput:function(t){"Enter"===t.code&&(this.inputValue=t.target.value)},keyupInput:function(t){t.isComposing||(this.inputValue=t.target.value)},blurInput:function(t){this.inputValue=t.target.value}}},h={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-input",{attrs:{type:"textarea"===t.type?"textarea":"text",placeholder:t.placeholder,resize:"none",rows:t.rows},on:{blur:function(e){return t.blurInput(e)}},nativeOn:{keydown:function(e){return t.keydownInput(e)},keyup:function(e){return t.keyupInput(e)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})},staticRenderFns:[]},f=i("VU/8")(p,h,!1,null,null,null).exports,m={props:{title:{type:String,required:!0},width:{type:String,default:"500px"},certainBtnText:{type:String,default:"确定"},cancelBtnText:{type:String,default:"取消"},isSubmitting:{type:Boolean,default:!1}},data:function(){return{}},methods:{beforeClose:function(){this.$emit("close")},beforeSubmit:function(){this.$emit("submit")}}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:t.title,width:t.width,visible:!0,"before-close":t.beforeClose,"close-on-click-modal":!1}},[i("main",{staticClass:"form-dialog-content clearfix"},[t._t("default")],2),t._v(" "),i("footer",{staticClass:"form-dialog-footer"},[i("el-button",{on:{click:function(e){return t.beforeClose()}}},[t._v(t._s(t.cancelBtnText))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.isSubmitting},on:{click:function(e){return t.beforeSubmit()}}},[t._v(t._s(t.certainBtnText))])],1)])},staticRenderFns:[]};var g=i("VU/8")(m,v,!1,function(t){i("PbDA")},null,null).exports,_={components:{vInput:f,formDialog:g},props:{project:{type:Object,default:function(){return{}}}},data:function(){return{projectName:{value:this.project.name||"",charLimit:20,verificationTip:"",isOverCharLimit:!1},projectCode:{value:this.project.code||"",charLimit:20,verificationTip:"",isOverCharLimit:!1},isSubmitting:!1}},watch:{"projectName.value":function(t){this.projectName.isOverCharLimit=t.length>this.projectName.charLimit,this.projectName.isOverCharLimit&&(this.projectName.verificationTip="")},"projectCode.value":function(t){this.projectCode.isOverCharLimit=t.length>this.projectCode.charLimit,this.projectCode.isOverCharLimit&&(this.projectCode.verificationTip="")}},computed:{isEdit:function(){return this.project.name}},mounted:function(){var t=this;setTimeout(function(){return t.$refs.nameInput.$children[0].focus()},0)},methods:{beforeClose:function(){var t=this;setTimeout(function(){return t.$emit("close")},0)},beforeSubmit:function(){this.project.name&&this.projectName===this.project.name?this.beforeClose():this.projectName.isOverCharLimit||this.projectCode.isOverCharLimit||(""===this.projectName.value.trim()?(this.projectName.verificationTip="项目名称不能为空或连续空格",this.$refs.nameInput.$children[0].focus()):this.isValueExisting(this.projectName.value,"name")?(this.projectName.verificationTip="项目名称已存在",this.$refs.nameInput.$children[0].focus()):""===this.projectCode.value.trim()?(this.projectCode.verificationTip="项目代号不能为空或连续空格",this.$refs.codeInput.$children[0].focus()):this.isValueExisting(this.projectCode.value,"code")?(this.projectCode.verificationTip="项目代号已存在",this.$refs.codeInput.$children[0].focus()):this.isEdit?this.update(this.project.pj_id,this.projectName.value,this.projectCode.value):this.create(this.projectName.value,this.projectCode.value))},isValueExisting:function(t,e){return(!this.isEdit||t!==this.project[e])&&this.$store.state.projectList.some(function(i){return i[e]===t})},create:function(t,e){var i=this;this.isSubmitting=!0;var a={name:t,code:e};this.$http.post(s.createProject,a).then(function(a){i.$message.success("创建成功");var n={pj_id:a.body.result.pj_id,name:t,code:e};i.$http.post(s.getProjectList,{}).then(function(t){var e=t.body.result;i.$store.dispatch("setProjectList",e),i.$store.dispatch("switchProject",n),i.isSubmitting=!1,i.beforeClose()}).catch(function(){i.$message.error("获取项目信息失败")})}).catch(function(){i.$message.error("创建项目失败"),i.isSubmitting=!1})},update:function(t,e,i){var a=this;this.isSubmitting=!0;var n={pj_id:t,name:e,code:i};this.$http.post(s.updateProject,n).then(function(e){a.$message.success("编辑成功"),a.$http.post(s.getProjectList,{}).then(function(e){var i=e.body.result;a.$store.dispatch("setProjectList",i),a.$store.dispatch("switchProject",i.filter(function(e){return e.pj_id===t})[0]),a.isSubmitting=!1,a.beforeClose()}).catch(function(){a.$message.error("获取项目信息失败")})}).catch(function(){a.$message.error("编辑项目失败"),a.isSubmitting=!1})}}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form-dialog",{attrs:{title:t.isEdit?"编辑项目":"创建项目","certain-btn-text":t.isEdit?"保存":"创建","is-submitting":t.isSubmitting},on:{close:function(e){return t.beforeClose()},submit:function(e){return t.beforeSubmit()}}},[i("div",{staticClass:"form-line"},[i("label",[t._v("项目名称：")]),t._v(" "),i("v-input",{ref:"nameInput",attrs:{placeholder:"请输入项目名称"},model:{value:t.projectName.value,callback:function(e){t.$set(t.projectName,"value",e)},expression:"projectName.value"}}),t._v(" "),t.projectName.isOverCharLimit?i("p",{staticClass:"error-tip"},[t._v("项目名称不可超过 "+t._s(t.projectName.charLimit)+" 个字符")]):t._e(),t._v(" "),t.projectName.verificationTip?i("p",{staticClass:"error-tip"},[t._v(t._s(t.projectName.verificationTip))]):t._e()],1),t._v(" "),i("div",{staticClass:"form-line"},[i("label",[t._v("项目代号：")]),t._v(" "),i("v-input",{ref:"codeInput",attrs:{placeholder:"请输入项目代号"},model:{value:t.projectCode.value,callback:function(e){t.$set(t.projectCode,"value",e)},expression:"projectCode.value"}}),t._v(" "),t.projectCode.isOverCharLimit?i("p",{staticClass:"error-tip"},[t._v("项目代号不可超过 "+t._s(t.projectCode.charLimit)+" 个字符")]):t._e(),t._v(" "),t.projectCode.verificationTip?i("p",{staticClass:"error-tip"},[t._v(t._s(t.projectCode.verificationTip))]):t._e()],1)])},staticRenderFns:[]};var C=this,j={components:{createDialog:i("VU/8")(_,b,!1,function(t){i("71ZB")},"data-v-3d3c7cf2",null).exports},data:function(){return{isCreateDgShow:!1,isOtherListShow:!1,projectBeingProcessed:{},isDeleting:!1,isDeleteDgShow:!1}},computed:l()({},Object(n.b)(["currentProject","projectList"]),{otherProject:function(){var t=this;return this.sortByName(this.projectList.filter(function(e){return e.pj_id!==t.currentProject.pj_id}))},isHover:function(){return this.projectBeingProcessed.pj_id?o()({},this.projectBeingProcessed.pj_id,!0):{}}}),methods:{switchProject:function(t){this.$store.dispatch("switchProject",t)},hideOtherList:function(){this.isCreateDgShow||this.isDeleteDgShow||(this.isOtherListShow=!1,this.projectBeingProcessed={})},closeCreateDg:function(){this.isCreateDgShow=!1,this.projectBeingProcessed={}},editProject:function(t){this.isCreateDgShow=!0},deleteProject:function(t){var e=this;this.projectBeingProcessed={},this.isDeleteDgShow=!0,this.$confirm("删除“"+t.name+"”项目，将同时删除该项目下所有数据","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",closeOnClickModal:!1}).then(function(){var i={pj_id:t.pj_id};e.$http.post(s.deleteProject,i).then(function(){e.$message.success("删除成功"),e.$http.post(s.getProjectList,{}).then(function(i){var a=i.body.result;e.$store.dispatch("setProjectList",a),t.pj_id===e.$store.state.currentProject.pj_id&&e.$store.dispatch("switchProject",e.$store.state.projectList[0])}).catch(function(){e.$message.error("获取项目信息失败")}),e.isDeleteDgShow=!1}).catch(function(){e.$message.error("删除项目失败")})}).catch(function(){e.isDeleteDgShow=!1})},sortByName:function(t){var e=function(t){return d()(t)[0][0].toLowerCase().charCodeAt(0)},i=function(t){var i=e(t);return i>=97&&i<=122},a=function(t){return!isNaN(parseInt(t,10))},s=t.filter(function(t){return a(t.name)}),n=t.filter(function(t){return!a(t.name)&&i(t.name)}),r=t.filter(function(t){return!a(t.name)&&!i(t.name)}),o=s.sort(function(t,e){return t.name.slice(0,1)-e.name.slice(0,1)}),c=n.sort(function(t,i){return e(t.name)-e(i.name)});return o.concat(c).concat(r)},handleMoreClick:function(t){this.projectBeingProcessed=this.projectBeingProcessed===t?{}:t},handleOtherListClick:function(){this.projectBeingProcessed={},this.isOtherListShow=!this.isOtherListShow}},directives:{"click-outside":{inserted:function(t,e,i){C.documentHandler=function(a){t.contains(a.target)||e.expression&&i.context[e.expression]()},document.addEventListener("click",C.documentHandler)},unbind:function(){document.removeEventListener("click",C.documentHandler)}}}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"select-container"},[t.projectList.length?i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideOtherList,expression:"hideOtherList"}],staticClass:"sidebar-item clearfix",class:{current:t.isOtherListShow},on:{click:function(e){return t.handleOtherListClick()}}},[i("span",{staticClass:"icon iconfont icon-xiangmu"}),t._v(" "),i("span",{staticClass:"text ellipsis"},[t._v(t._s(t.currentProject.name))]),t._v(" "),i("span",{staticClass:"unfold-icon el-icon-caret-bottom"}),t._v(" "),i("el-popover",{ref:"more",attrs:{trigger:"manual",width:"60"},model:{value:t.isHover[t.currentProject.pj_id],callback:function(e){t.$set(t.isHover,t.currentProject.pj_id,e)},expression:"isHover[currentProject.pj_id]"}},[i("span",{on:{click:function(e){return t.editProject(t.currentProject)}}},[t._v("编辑")]),t._v(" "),i("span",{on:{click:function(e){return t.deleteProject(t.currentProject)}}},[t._v("删除")])]),t._v(" "),i("span",{staticClass:"more-icon",on:{click:function(e){return e.stopPropagation(),t.handleMoreClick(t.currentProject)}}},[i("span",{directives:[{name:"popover",rawName:"v-popover:more",arg:"more"}],staticClass:"fa fa-ellipsis-v"})])],1):i("div",{staticClass:"sidebar-item clearfix",on:{click:function(e){t.isCreateDgShow=!0}}},[i("span",{staticClass:"icon el-icon-plus"}),t._v(" "),i("span",{staticClass:"text ellipsis"},[t._v("添加项目")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isOtherListShow,expression:"isOtherListShow"}],staticClass:"project-list"},[i("ul",t._l(t.otherProject,function(e,a){return i("li",{key:a,staticClass:"sidebar-item clearfix",on:{click:function(i){return t.switchProject(e)}}},[i("span",{staticClass:"icon el-icon-arrow-right"}),t._v(" "),i("span",{staticClass:"text ellipsis"},[t._v(t._s(e.name))]),t._v(" "),i("span",{staticClass:"unfold-icon"}),t._v(" "),i("el-popover",{ref:"more"+e.pj_id,refInFor:!0,attrs:{trigger:"manual",width:"60"},model:{value:t.isHover[e.pj_id],callback:function(i){t.$set(t.isHover,e.pj_id,i)},expression:"isHover[item.pj_id]"}},[i("span",{on:{click:function(i){return t.editProject(e)}}},[t._v("编辑")]),t._v(" "),i("span",{on:{click:function(i){return t.deleteProject(e)}}},[t._v("删除")])]),t._v(" "),i("span",{staticClass:"more-icon",class:{"current-more-icon":t.isHover[e.pj_id]},on:{click:function(i){return i.stopPropagation(),t.handleMoreClick(e)}}},[i("span",{directives:[{name:"popover",rawName:"v-popover",value:"more"+e.pj_id,expression:"'more' + item.pj_id"}],staticClass:"fa fa-ellipsis-v"})])],1)}),0),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"sidebar-item clearfix",on:{click:function(e){t.isCreateDgShow=!0}}},[i("span",{staticClass:"icon el-icon-plus"}),t._v(" "),i("span",{staticClass:"text ellipsis"},[t._v("添加项目")])])]),t._v(" "),t.isCreateDgShow?i("create-dialog",{attrs:{project:t.projectBeingProcessed},on:{close:function(e){return t.closeCreateDg()}}}):t._e()],1)},staticRenderFns:[]};var w={components:{projectSelect:i("VU/8")(j,y,!1,function(t){i("NT9Q")},"data-v-5c1581cc",null).exports},props:{username:{type:String,required:!0},avatar:{type:String,required:!0}},data:function(){return{navList:[{name:"问答库",path:"/qalibrary",icon:"icon-xinxiguanli"},{name:"词典",path:"/dictionary",icon:"icon-minganciku"},{name:"用户管理",path:"/management",icon:"icon-yonghuguanli1"},{name:"数据统计",path:"/statistics",icon:"icon-barchart"},{name:"权限系统",path:"/authority",icon:"icon-idcard"}]}},computed:Object(n.b)(["projectList"]),methods:{logout:function(){location.href=s.logout}}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("aside",{staticClass:"sidebar"},[i("header",[t._m(0),t._v(" "),i("project-select")],1),t._v(" "),i("hr"),t._v(" "),i("nav",[t.projectList.length?i("ul",t._l(t.navList,function(e,a){return i("li",{key:a,staticClass:"sidebar-item",class:{current:t.$route.path===e.path},on:{click:function(i){return t.$router.push({path:e.path,query:{pid:t.$store.state.currentProject.pj_id}})}}},[i("span",{staticClass:"icon iconfont",class:[e.icon]}),t._v(" "),i("span",{staticClass:"text ellipsis"},[t._v(t._s(e.name))])])}),0):t._e()]),t._v(" "),i("footer",{staticClass:"clearfix"},[i("div",{staticClass:"user-msg-container clearfix"},[i("el-popover",{ref:"logout",attrs:{trigger:"hover",width:"60"}},[i("span",{on:{click:function(e){return t.logout()}}},[t._v("退出")])]),t._v(" "),i("div",{directives:[{name:"popover",rawName:"v-popover:logout",arg:"logout"}],staticClass:"user-msg"},[i("div",{staticClass:"avatar"},[i("img",{attrs:{src:t.avatar}})]),t._v(" "),i("span",{staticClass:"username ellipsis"},[t._v(t._s(t.username))])]),t._v(" "),i("span",{staticClass:"split"},[t._v("|")]),t._v(" "),i("span",[t._v("意见反馈")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("span",{staticClass:"icon iconfont icon-wenda"}),this._v("问答管理系统")])}]};var $={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"no-access"},[this._m(0),this._v(" "),e("p",{staticClass:"concats-tip"},[this._v("申请项目权限或接入项目，可联系\n    "),e("span",{staticClass:"link",on:{click:this.openConcatDialog}},[this._v("系统管理员")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"clearfix"},[e("span",{staticClass:"fa fa-info-circle warning-icon"}),this._v(" "),e("p",{staticClass:"warning-title"},[this._v("你当前未拥有项目")])])}]};function L(t,e,i){return t.some(function(t){return t[e]===i})}var S={name:"app",components:{sidebar:i("VU/8")(w,x,!1,function(t){i("otFR"),i("gKeQ")},"data-v-7d0c25d6",null).exports,noAccess:i("VU/8")({data:function(){return{}},methods:{openConcatDialog:function(){}}},$,!1,function(t){i("ji+F")},"data-v-1d163594",null).exports},data:function(){return{avatar:"",username:"",isLoading:!1,hasAccess:!1}},watch:{currentProject:function(t){localStorage.currentProjectId=t&&t.pj_id,t?this.$router.push({path:"/qalibrary",query:{page:"home",pid:t.pj_id}}):this.$router.push("/welcome")}},computed:Object(n.b)(["currentProject"]),created:function(){this.getUserData()},methods:{getUserData:function(){this.isLoading=!0,window.$avatar="../assets/img/avatar.png",this.avatar=window.$avatar,window.$username="罗大雄",this.username=window.$username,window.$userEmail="sx.Luo@foxmail.com",this.getProjectData()},getProjectData:function(){var t,e,i,a=[{pj_id:"5a4d58b6fea7434fbba2c9cc8a7844b7",code:"1231",cls:["分类一","分类二","分类三"],name:"默认项目"},{pj_id:"e38c677126734886878ec766cf64a291",code:"1232",cls:["分类一","分类二","分类三"],name:"default"},{pj_id:"7b963a867a4a40dc8ff792a13dc8d715",code:"1233",cls:["分类一","分类二","分类三"],name:"测试项目"},{pj_id:"42ef5914bbb34c45bced8a3c6147bef5",code:"1234",cls:["分类一","分类二","分类三"],name:"大雄项目"},{pj_id:"d521547e1a5a411fb70926c0c8df36d2",code:"1235",cls:["分类一","分类二","分类三"],name:"test"}];if(this.$store.dispatch("setProjectList",a),a.length){this.hasAccess=!0;var s=this.$route.query.pid;s&&L(a,"pj_id",s)||(s=localStorage.currentProjectId)&&L(a,"pj_id",s)||(s=a[0].pj_id),this.$store.dispatch("switchProject",(t=a,e="pj_id",i=s,t.filter(function(t){return t[e]===i}))[0])}else"admin@henhaoji.com"===window.$userEmail&&(this.hasAccess=!0,this.$store.dispatch("switchProject",void 0));this.isLoading=!1}}},D={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"clearfix",attrs:{id:"app"}},[!t.isLoading&&t.hasAccess?[i("sidebar",{attrs:{username:t.username,avatar:t.avatar}}),t._v(" "),i("main",[i("router-view")],1)]:t._e(),t._v(" "),t.isLoading||t.hasAccess?t._e():i("no-access")],2)},staticRenderFns:[]};var k=i("VU/8")(S,D,!1,function(t){i("fCwO")},null,null).exports,P=i("/ocq"),O=i("XLwt"),T=i.n(O),U={name:"comment_trend",props:{options:{type:Object,required:!0},data:{type:Object,required:!0},isLoading:{type:Boolean}},data:function(){return{myChart:null,hasChoose:!0}},mounted:function(){this.initGraph()},watch:{data:function(){this.setOption(this.myChart)},isLoading:function(){this.isLoading?this.myChart.showLoading():this.myChart.hideLoading()}},methods:{initGraph:function(){var t=this,e=T.a.init(this.$refs.echart);this.myChart=e,e.showLoading(),e.setOption(this.options),e.on("legendselectchanged",function(e){t.$emit("change-legend",e.name);var i=e.selected;for(var a in i)if(i[a])return void(t.hasChoose=!0);t.hasChoose=!1}),this.setOption(e)},setOption:function(t){t.setOption({color:this.data.color,legend:{data:this.data.legend||[],selected:this.data.selected||[]},xAxis:[{data:this.data.xAxis}],series:this.data.series})}}},N={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"echart",staticStyle:{height:"300px",padding:"20px 0 0 16px"}})},staticRenderFns:[]};var q=i("VU/8")(U,N,!1,function(t){i("NsAA")},"data-v-7e52506b",null).exports,E=function(){return{tooltip:{trigger:"axis",formatter:function(t){for(var e=t[0].name,i=0;i<t.length;i++)e=e+'<br/><span style="color:'+t[i].color+';font-size: 20px;">● </span>'+t[i].seriesName+":"+(100*t[i].value).toFixed(2)+"%";return e}},legend:{selectedMode:"multiple",selected:{},data:[]},color:["#669cd8","#fdd900","#e9a280","#a1ca8c","#b35750","#9c8ff3"],xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{axisLabel:{formatter:function(t){return(100*t).toFixed(2)+"%"}}},series:[],animationDuration:500}},A={name:"comment_trend",components:{chart:q},data:function(){return{chartData:{},chartOptions:E(),isLoading:!0}},created:function(){this.loadData()},methods:{loadData:function(){var t=this;this.isLoading=!0;var e={praise:[.123,.66323,.03234,.00165,.8,0,0,0,.3454,.22222,.55555,0],bad_review:[.763,.26323,0,0,.43234,.22165,.6,0,.3454,.44444,.11115,0],general_review:[.423,.16323,.13234,.33165,.1,0,.3454,0,0,.64222,5e-5,0]};setTimeout(function(){t.chartData={legend:["好评率","差评率","中评率"],selected:{"好评率":!0,"差评率":!0,"中评率":!0},xAxis:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],series:[{name:"好评率",legendHoverLink:!0,type:"line",data:e.praise},{name:"差评率",legendHoverLink:!0,type:"line",data:e.bad_review},{name:"中评率",legendHoverLink:!0,type:"line",data:e.general_review}]},t.isLoading=!1},1e3)}}},V={render:function(){var t=this.$createElement;return(this._self._c||t)("chart",{attrs:{data:this.chartData,options:this.chartOptions,"is-loading":this.isLoading}})},staticRenderFns:[]};var z=function(){return{tooltip:{trigger:"axis",formatter:function(t){for(var e=t[0].name,i=0;i<t.length-1;i++)e=e+'<br/><span style="color:'+t[i].color+';font-size: 20px;">● </span>'+t[i].seriesName+":"+(100*t[i].value).toFixed(2)+"%";return e}},legend:{selectedMode:"multiple",data:[]},color:["#669cd8","#fdd900","#e9a280","#a1ca8c","#b35750","#9c8ff3"],xAxis:{type:"category",boundaryGap:!0,axisTick:{alignWithLabel:!0},data:[]},yAxis:[{type:"value"}],series:[],animationDuration:500}},I={name:"comment_trend",components:{chart:q},data:function(){return{chartData:{},chartOptions:z(),legend:["活跃用户数","新增用户数","聊天总数"],isLoading:!0}},created:function(){this.loadData()},methods:{loadData:function(){var t=this;this.isLoading=!0;var e=[{date:"2019-02-24",value:0},{date:"2019-02-25",value:0},{date:"2019-02-26",value:2},{date:"2019-02-27",value:3},{date:"2019-02-28",value:4},{date:"2019-03-01",value:1},{date:"2019-03-02",value:0},{date:"2019-03-03",value:0},{date:"2019-03-04",value:1},{date:"2019-03-05",value:1},{date:"2019-03-06",value:1},{date:"2019-03-07",value:1},{date:"2019-03-08",value:1},{date:"2019-03-09",value:0},{date:"2019-03-10",value:0}],i=e.map(function(t){return t.value});setTimeout(function(){t.chartData={legend:t.legend,selected:{"活跃用户数":!0,"新增用户数":!1,"聊天总数":!1},xAxis:e.map(function(t){return t.date}),series:[{name:t.legend[0],legendHoverLink:!0,type:"bar",data:i},{name:t.legend[1],legendHoverLink:!0,type:"bar",data:i},{name:t.legend[2],legendHoverLink:!0,type:"bar",data:i},{name:t.legend[0]+"",showAllSymbol:!0,legendHoverLink:!0,type:"line",data:i}]},t.isLoading=!1},1e3)}}},Q={render:function(){var t=this.$createElement;return(this._self._c||t)("chart",{attrs:{data:this.chartData,options:this.chartOptions,"is-loading":this.isLoading}})},staticRenderFns:[]};var F={name:"index",components:{commentTrend:i("VU/8")(A,V,!1,function(t){i("V1Za")},"data-v-1c1c0fe0",null).exports,barEchart:i("VU/8")(I,Q,!1,function(t){i("mcbk")},"data-v-3ad8da92",null).exports}},R={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"statistics clearfix"},[e("div",{staticClass:"card"},[e("comment-trend")],1),this._v(" "),e("div",{staticClass:"card"},[e("bar-echart")],1),this._v(" "),e("div",{staticClass:"card"}),this._v(" "),e("div",{staticClass:"card"})])},staticRenderFns:[]};var B=i("VU/8")(F,R,!1,function(t){i("SPMj")},"data-v-5cfa3b61",null).exports,H={props:{data:{type:Object,required:!0}},data:function(){return{classifications:this.$store.state.currentProject.cls,statusOptions:["生效中","未生效"],type:{question:"问题",answer:"答案",all:"不限"},placeholders:{question:"请输入问题",answer:"请输入答案",all:"请输入问题或答案"}}},methods:{changeFilter:function(){}}},M={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"filter-bar"},[i("div",{staticClass:"radio-group"},[i("div",{staticClass:"form-line clearfix"},[i("label",{staticClass:"label"},[t._v("分类：")]),t._v(" "),i("el-radio-group",{attrs:{size:"small"},model:{value:t.data.classification,callback:function(e){t.$set(t.data,"classification",e)},expression:"data.classification"}},[i("el-radio-button",{attrs:{label:-1}},[t._v("全部")]),t._v(" "),t._l(t.classifications,function(e,a){return[i("el-radio-button",{key:a,attrs:{label:a+1}},[t._v(t._s(e))])]})],2)],1),t._v(" "),i("div",{staticClass:"form-line clearfix"},[i("label",{staticClass:"label"},[t._v("状态：")]),t._v(" "),i("el-radio-group",{attrs:{size:"small"},model:{value:t.data.status,callback:function(e){t.$set(t.data,"status",e)},expression:"data.status"}},[i("el-radio-button",{attrs:{label:-1}},[t._v("全部")]),t._v(" "),t._l(t.statusOptions,function(e,a){return[i("el-radio-button",{key:a,attrs:{label:a}},[t._v(t._s(e))])]})],2)],1)]),t._v(" "),i("div",{staticClass:"search-input"},[i("el-input",{staticClass:"input-with-select",attrs:{placeholder:t.placeholders[t.data.searchType]},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeFilter(e)}},model:{value:t.data.searchWord,callback:function(e){t.$set(t.data,"searchWord",e)},expression:"data.searchWord"}},[i("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.data.searchType,callback:function(e){t.$set(t.data,"searchType",e)},expression:"data.searchType"}},[t._l(t.type,function(t,e){return[i("el-option",{key:e,attrs:{label:t,value:e}})]})],2),t._v(" "),i("span",{staticClass:"search-icon el-input__icon el-icon-search",attrs:{slot:"suffix"},on:{click:t.changeFilter},slot:"suffix"})],1)],1)])},staticRenderFns:[]};var J=i("VU/8")(H,M,!1,function(t){i("i3WX"),i("iyff")},"data-v-223fb2b6",null).exports;var W={props:{total:{type:Number,required:!0},pageData:{type:Object,required:!0},tableData:{type:Array,required:!0}},data:function(){return{classifications:this.$store.state.currentProject.cls}},methods:{handleCurrentChange:function(t){this.pageData.pageIndex=t,this.$emit("get-data")},handleSizeChange:function(){},sortChange:function(t){this.pageData.sortType=t.prop,this.pageData.reverse="descending"===t.order,this.$emit("get-data")},openDialog:function(t){this.$emit("open-dg",t)},deleteData:function(){}},filters:{formatTime:function(t){var e=new Date(+new Date(t)+28800);return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}}},G={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"clearfix"},[i("el-table",{staticStyle:{width:"100%","margin-top":"25px"},attrs:{data:t.tableData,border:"","default-sort":{prop:"time",order:"descending"}},on:{"sort-change":t.sortChange}},[i("el-table-column",{attrs:{prop:"time",label:"更新时间",sortable:"custom","sort-orders":["descending","ascending"],resizable:!1,align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t._f("formatTime")(e.row.time))+"\n      ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"问题",resizable:!1,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"link ellipsis",attrs:{title:e.row.question},on:{click:function(i){return t.openDialog(e.row)}}},[t._v(t._s(e.row.question))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"答案",resizable:!1,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"ellipsis",attrs:{title:e.row.answer}},[t._v(t._s(e.row.answer))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"分类",resizable:!1,align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(t.classifications[e.row.cls]))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"favorite_num",label:"收藏数",sortable:"custom","sort-orders":["descending","ascending"],resizable:!1,align:"center",width:"90"}}),t._v(" "),i("el-table-column",{attrs:{prop:"upvoted_num",label:"点赞数",sortable:"custom","sort-orders":["descending","ascending"],resizable:!1,align:"center",width:"90"}}),t._v(" "),i("el-table-column",{attrs:{label:"状态",resizable:!1,align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{directives:[{name:"show",rawName:"v-show",value:1==e.row.status,expression:"scope.row.status == 1"}],staticStyle:{color:"#F00"}},[t._v("未生效")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:0==e.row.status,expression:"scope.row.status == 0"}]},[t._v("生效中")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"110",resizable:!1,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"link edit-btn",on:{click:function(i){return t.openDialog(e.row,"edit")}}},[t._v("编辑")]),t._v(" "),i("span",{staticClass:"link delete-btn",on:{click:function(i){return t.deleteData(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.tableData.length?i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{"current-page":t.pageData.pageIndex,"page-sizes":t.pageData.pageSizes,"page-size":t.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],1)},staticRenderFns:[]},X=i("VU/8")(W,G,!1,null,null,null).exports,Z=i("mvHQ"),K=i.n(Z),Y={components:{formDialog:g,vInput:f},props:{type:{type:String},currentData:{type:Object}},data:function(){return{queCharLimit:50,isQueOverCharLimit:!1,queVerificationTip:"",ansCharLimit:5e3,isAnsOverCharLimit:!1,ansVerificationTip:"",isSubmitting:!1,data:"edit"===this.type?this.currentData:{cls:0,question:"",answer:"",start:"",end:""},originalJSON:"",classifications:["分类一","分类二","分类三"]}},watch:{"data.question":function(t){this.isQueOverCharLimit=t.length>this.queCharLimit,this.isQueOverCharLimit&&(this.queVerificationTip="")},"data.answer":function(t){this.isAnsOverCharLimit=t.length>this.ansCharLimit,this.isAnsOverCharLimit&&(this.ansVerificationTip="")}},computed:{isEdit:function(){return"edit"===this.type},isTimeError:function(){return this.data.start&&this.data.end&&this.data.start>this.data.end}},created:function(){this.init()},mounted:function(){var t=this;setTimeout(function(){return t.$refs.input.$children[0].focus()},0)},methods:{init:function(){this.originalJSON=K()(this.data)},beforeClose:function(){var t=this;K()(this.data)===this.originalJSON?this.close():this.$confirm("此弹窗有编辑内容未保存，是否关闭该弹窗","提示",{confirmButtonText:"关闭",cancelButtonText:"取消",closeOnClickModal:!1}).then(function(){t.close()}).catch(function(){})},close:function(){this.$emit("close")},beforeSubmit:function(){this.isQueOverCharLimit||this.data.question?this.isAnsOverCharLimit||this.data.answer?this.isTimeError||(K()(this.data)===this.originalJSON?this.close():this.isEdit?this.update():this.create()):this.ansVerificationTip="答案不能为空":this.queVerificationTip="问题不能为空"},create:function(t){var e=this;this.isSubmitting=!0;var i={pj_id:this.$store.state.currentProject.pj_id,cls:this.data.cls,question:this.data.question,answer:this.data.answer,start:this.getTimestamp(this.data.start),end:this.getTimestamp(this.data.end)};this.$http.post(s.addQuestion,i).then(function(t){e.originalJSON=K()(e.data),e.$message.success("添加成功"),e.$emit("update-list"),e.isSubmitting=!1,e.beforeClose()}).catch(function(){e.$message.error("添加失败"),e.isSubmitting=!1})},update:function(t,e){var i=this;this.isSubmitting=!0;var a={pj_id:this.$store.state.currentProject.pj_id,cls:this.data.cls,question:this.data.question,answer:this.data.answer,start:this.getTimestamp(this.data.start),end:this.getTimestamp(this.data.end)};this.$http.post(s.updateQuestion,a).then(function(t){i.originalJSON=K()(i.data),i.$message.success("编辑成功"),i.$emit("update-list"),i.isSubmitting=!1,i.beforeClose()}).catch(function(){i.$message.error("编辑失败"),i.isSubmitting=!1})},getTimestamp:function(t){return+new Date(t)}}},tt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form-dialog",{staticClass:"add-question-dg",attrs:{title:t.isEdit?"编辑问答":"添加问答","certain-btn-text":t.isEdit?"保存":"添加","is-submitting":t.isSubmitting,width:"720px"},on:{close:function(e){return t.beforeClose()},submit:function(e){return t.beforeSubmit()}}},[i("div",{staticClass:"form-line clearfix"},[i("label",{staticClass:"label"},[t._v("分类：")]),t._v(" "),i("el-radio-group",{attrs:{size:"small"},model:{value:t.data.cls,callback:function(e){t.$set(t.data,"cls",e)},expression:"data.cls"}},[t._l(t.classifications,function(e,a){return[i("el-radio-button",{attrs:{label:a}},[t._v(t._s(e))])]})],2)],1),t._v(" "),i("div",{staticClass:"form-line clearfix"},[i("label",{staticClass:"label"},[t._v("问题：")]),t._v(" "),i("v-input",{ref:"input",attrs:{placeholder:"请输入问题"},model:{value:t.data.question,callback:function(e){t.$set(t.data,"question",e)},expression:"data.question"}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.isQueOverCharLimit,expression:"isQueOverCharLimit"}],staticClass:"error-tip"},[t._v("问题不可超过 "+t._s(t.queCharLimit)+" 个字符")]),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.isQueOverCharLimit&&t.queVerificationTip,expression:"!isQueOverCharLimit && queVerificationTip"}],staticClass:"error-tip"},[t._v(t._s(t.queVerificationTip))])],1),t._v(" "),i("div",{staticClass:"form-line clearfix"},[i("label",{staticClass:"label"},[t._v("答案：")]),t._v(" "),i("v-input",{attrs:{type:"textarea",rows:8.5,placeholder:"请输入答案"},model:{value:t.data.answer,callback:function(e){t.$set(t.data,"answer",e)},expression:"data.answer"}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.isAnsOverCharLimit,expression:"isAnsOverCharLimit"}],staticClass:"error-tip"},[t._v("答案不可超过 "+t._s(t.ansCharLimit)+" 个字符")]),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.isAnsOverCharLimit&&t.ansVerificationTip,expression:"!isAnsOverCharLimit && ansVerificationTip"}],staticClass:"error-tip"},[t._v(t._s(t.ansVerificationTip))])],1),t._v(" "),i("div",{staticClass:"form-line clearfix"},[i("label",{staticClass:"label"},[t._v("有效期：")]),t._v(" "),i("div",{staticClass:"start-time"},[i("el-date-picker",{attrs:{type:"datetime",editable:!1,placeholder:"生效时间，为空表示即时生效"},model:{value:t.data.start,callback:function(e){t.$set(t.data,"start",e)},expression:"data.start"}})],1),t._v(" "),i("span",{staticClass:"joiner"},[t._v("-")]),t._v(" "),i("div",{staticClass:"end-time"},[i("el-date-picker",{attrs:{type:"datetime",editable:!1,placeholder:"失效时间，为空表示生效后永不失效"},model:{value:t.data.end,callback:function(e){t.$set(t.data,"end",e)},expression:"data.end"}})],1),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.isTimeError,expression:"isTimeError"}],staticClass:"error-tip"},[t._v("生效时间不可大于失效时间")])])])},staticRenderFns:[]};var et={components:{filterBar:J,qaTable:X,addQuestionDg:i("VU/8")(Y,tt,!1,function(t){i("r3mI"),i("Pl6J")},"data-v-3a62fc86",null).exports},props:{pageData:{type:Object,required:!0}},data:function(){return{total:10,isAddQueDgShow:!1,queDgType:"add",currentDetails:{},tableData:[]}},created:function(){this.getData()},methods:{getData:function(){this.tableData=[{qid:"1",time:+new Date,question:"测试",answer:"答案",cls:2,favorite_num:100,upvoted_num:100,status:0,start:+new Date,end:+new Date},{qid:"2",time:+new Date,question:"这是一个问题",answer:"这是一个答案",cls:1,favorite_num:100,upvoted_num:100,status:1,start:+new Date,end:+new Date}]},openAddQueDg:function(t){this.queDgType=t,this.isAddQueDgShow=!0},viewDetails:function(t){this.currentDetails=t,this.openAddQueDg("edit")},closeAddQueDg:function(){this.isAddQueDgShow=!1,this.currentDetails={}}}},it={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("div",{staticClass:"header-box relative"},[i("filter-bar",{attrs:{data:t.pageData}}),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.openAddQueDg("add")}}},[t._v("添加问答")])],1),t._v(" "),i("qa-table",{attrs:{"page-data":t.pageData,"table-data":t.tableData,total:t.total},on:{"open-dg":t.viewDetails}}),t._v(" "),t.isAddQueDgShow?i("add-question-dg",{attrs:{"current-data":t.currentDetails,type:t.queDgType},on:{close:t.closeAddQueDg}}):t._e()],1)},staticRenderFns:[]};var at={pageOptions:[10,20,50,100],pageSize:10},st={components:{homePage:i("VU/8")(et,it,!1,function(t){i("Q1AN")},"data-v-618c33bc",null).exports},data:function(){return{homePageData:{classification:-1,status:-1,searchType:"question",searchWord:"",sortType:"time",reverse:!0,pageIndex:1,pageSize:at.pageSize,pageSizes:at.pageOptions},quePageData:{searchWord:"",sortType:0,pageIndex:1,pageSize:at.pageSize,pageSizes:at.pageOptions},ansPageData:{searchWord:"",sortType:0,pageIndex:1,pageSize:at.pageSize,pageSizes:at.pageOptions},commentPageData:{searchWord:"",sortType:0,pageIndex:1,pageSize:at.pageSize,pageSizes:at.pageOptions}}},methods:{}},nt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"body-container"},[e("home-page",{attrs:{"page-data":this.homePageData}})],1)},staticRenderFns:[]},rt=i("VU/8")(st,nt,!1,null,null,null).exports,ot=i("Gu7T"),ct=i.n(ot),lt={senior:[{email:"luodaxiong@youxiang.com",code:6666,name:"罗大雄"},{email:"luoxiaoxiong@youxiang.com",code:8888,name:"罗小雄"}],ordinary:[]},ut=[{email:"luodaxiong@youxiang.com",code:6666,name:"罗大雄",deptname:"总裁部"},{email:"luoxiaoxiong@youxiang.com",code:8888,name:"罗小雄",deptname:"人事部"},{email:"xiongda@youxiang.com",code:9999,name:"熊大",deptname:"财务部"},{email:"xionger@youxiang.com",code:1111,name:"熊二",deptname:"技术部"},{email:"zhangsan@youxiang.com",code:2222,name:"张三",deptname:"行政部"},{email:"lisi@youxiang.com",code:3333,name:"李四",deptname:"公关部"},{email:"wangwu@youxiang.com",code:4444,name:"王五",deptname:"运维部"},{email:"zhaoliu@youxiang.com",code:5555,name:"赵六",deptname:"运营部"}];function dt(t,e){lt[e]=lt[e].concat(t.addedUsers),lt[e]=lt[e].filter(function(e){for(var i=0;i<t.deletedUsers.length;i++)if(e.email===t.deletedUsers[i].email)return!1;return!0})}var pt={props:{users:{type:Array,required:!0},allUsers:{type:Array,required:!0}},data:function(){return{search:"",matchUsers:[]}},watch:{search:function(t){t.trim()?this.searchUser(t):this.matchUsers=[]}},methods:{searchUser:function(t){var e,i=(e=t,ut.filter(function(t){return String(t.code).indexOf(e)>-1||t.name.indexOf(e)>-1}));try{console.log(i),this.matchUsers=i.sort(function(t){var e=new RegExp(escape(t).replace(/%u/g,"\\u"));return function(t){return t.name.match(e)?-1:1}}(t)).slice(0,10)}catch(t){throw this.$message.error("搜索用户出错"),new Error(t)}},deleteUser:function(t){this.users.splice(t,1),this.$emit("change-user")},addUser:function(t){var e=this;this.allUsers.some(function(e){return e.email===t.email})?this.$message.warning("每位成员只能拥有一个角色，请重新设置"):(this.users.push({email:t.email,code:t.code||"",name:t.name}),this.$emit("change-user")),this.clearMatch(),setTimeout(function(){e.focusInput()},0)},clearMatch:function(){this.search="",this.matchUsers=[]},addFirstUser:function(){this.matchUsers.length&&this.addUser(this.matchUsers[0])},focusInput:function(){this.$refs.input.focus()}},filters:{html:function(t){return t?"<"+t+">":""},attr:function(t){return t?"["+t+"]":""}}},ht={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-box clearfix"},[t._l(t.users,function(e,a){return i("div",{key:a,staticClass:"user"},[t._v("\n    "+t._s(e.name)+"\n    "),i("span",{staticClass:"delete-btn el-icon-close",on:{click:function(e){return t.deleteUser(a)}}}),t._v(" "),i("div",{staticClass:"user-detail",class:{"no-code":!e.code}},[i("span",[t._v(t._s(e.name))]),t._v(" "),i("span",[t._v(t._s(t._f("html")(e.code)))])])])}),t._v(" "),i("div",{staticClass:"searchbar"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],ref:"input",staticClass:"search-input",attrs:{type:"text",placeholder:"请点击添加管理员...",debounce:"100"},domProps:{value:t.search},on:{blur:t.clearMatch,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addFirstUser(e)},input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),t.matchUsers.length?i("ul",{staticClass:"match-users-list list-unstyled"},t._l(t.matchUsers,function(e,a){return i("li",{key:a,staticClass:"match-user",on:{mousedown:function(i){return t.addUser(e)}}},[t._v("\n        "+t._s(e.name)+t._s(t._f("html")(e.code))+t._s(t._f("attr")(e.deptname))+"\n      ")])}),0):t._e()])],2)},staticRenderFns:[]};var ft={components:{authNameBox:i("VU/8")(pt,ht,!1,function(t){i("TuEr")},"data-v-21c583c0",null).exports},data:function(){return{users:{senior:[],ordinary:[]},originalUsers:{},isLoading:!0,isSubmitting:!1,addedUsers:{senior:[],ordinary:[]},deletedUsers:{senior:[],ordinary:[]}}},computed:{hasChanged:function(){return K()(this.users)!==K()(this.originalUsers)},allUsers:function(){return[].concat(ct()(this.users.senior),ct()(this.users.ordinary))}},created:function(){this.getData()},mounted:function(){var t=this;setTimeout(function(){t.focusInput()},0)},beforeRouteLeave:function(t,e,i){var a=this;this.hasChanged?this.$confirm("此页面有编辑内容未保存，是否离开该页面","提示",{confirmButtonText:"离开",cancelButtonText:"取消",closeOnClickModal:!1}).then(function(){i()}).catch(function(){i(!1),a.focusInput()}):i()},methods:{getData:function(){this.isLoading=!0;try{this.users=lt,this.isLoading=!1}catch(t){this.$message.error("获取管理员数据失败")}},changeSeniorUser:function(){this.filterChangedUsers(this.users.senior,this.originalUsers.senior,"senior")},changeOrdinaryUser:function(){this.filterChangedUsers(this.users.ordinary,this.originalUsers.ordinary,"ordinary")},filterChangedUsers:function(t,e,i){this.addedUsers[i]=t.filter(function(t){return!e.some(function(e){return e.email===t.email})}),this.deletedUsers[i]=e.filter(function(e){return!t.some(function(t){return t.email===e.email})})},save:function(){if(this.hasChanged){this.isSubmitting=!0;var t={senior:{addedUsers:this.addedUsers.senior,deletedUsers:this.deletedUsers.senior},ordinary:{addedUsers:this.addedUsers.ordinary,deletedUsers:this.deletedUsers.ordinary}};try{e=t.ordinary,dt(t.senior,"senior"),dt(e,"ordinary"),this.users=lt,this.isSubmitting=!1,this.$message.success("编辑成功"),this.originalUsers=JSON.parse(K()(this.users))}catch(t){this.$message.error("编辑失败"),this.isSubmitting=!1}}var e},focusInput:function(){this.$refs.authBox.$refs.input.focus()}}},mt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"authority-management body-container"},[t._m(0),t._v(" "),i("dl",{staticClass:"manager-box"},[i("dt",[t._v("高级管理员：")]),t._v(" "),i("dd",[i("auth-name-box",{ref:"authBox",attrs:{users:t.users.senior,"all-users":t.allUsers},on:{"change-user":t.changeSeniorUser}})],1),t._v(" "),i("dt",[t._v("普通管理员：")]),t._v(" "),i("dd",[i("auth-name-box",{attrs:{users:t.users.ordinary,"all-users":t.allUsers},on:{"change-user":t.changeOrdinaryUser}})],1)]),t._v(" "),i("footer",[i("el-button",{attrs:{type:"primary",loading:t.isSubmitting,disabled:!t.hasChanged},on:{click:t.save}},[t._v("保存")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"description"},[i("p",[t._v("说明：")]),t._v(" "),i("p",[t._v("1.普通管理员可管理项目，亦可查看相关统计数据")]),t._v(" "),i("p",[t._v("2.高级管理员除拥有普通管理员权限外，还可以进行权限管理")]),t._v(" "),i("p",[t._v("3.权限系统目前只是交互演示，如有疑问请联系 "),i("em",[t._v("系统管理员<sx.luo@foxmail.com>")])])])}]};var vt=i("VU/8")(ft,mt,!1,function(t){i("NXj6")},"data-v-01f9ce46",null).exports;a.default.use(P.a);var gt=new P.a({routes:[{path:"/",name:"qalibrary",component:rt},{path:"/qalibrary",name:"qalibrary",component:rt},{path:"/statistics",name:"statistics",component:B},{path:"/authority",name:"authority",component:vt}]}),_t=i("zL8q"),bt=i.n(_t),Ct=(i("tvR6"),i("8+8L"));a.default.use(Ct.a),a.default.http.interceptors.push(function(t,e){e(function(t){if(200===t.status){if(t.data&&0===t.data.code&&(t.data.Result=1),1===t.data.Result)return t;2===t.data.Result&&setTimeout(function(){location.href="loginIndex"},2200),t.ok=!1}else t.ok=!1})}),a.default.use(n.a);var jt=new n.a.Store({state:{currentProject:{},projectList:[]},getters:{getCurrentProject:function(t){return t.currentProject},getProjectList:function(t){return t.projectList}},mutations:{SWITCH_PROJECT:function(t,e){t.currentProject=e},SET_PROJECT_LIST:function(t,e){t.projectList=e}},actions:{switchProject:function(t,e){(0,t.commit)("SWITCH_PROJECT",e)},setProjectList:function(t,e){(0,t.commit)("SET_PROJECT_LIST",e)}}});a.default.use(bt.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:gt,store:jt,components:{App:k},template:"<App/>"})},NT9Q:function(t,e){},NXj6:function(t,e){},NsAA:function(t,e){},PbDA:function(t,e){},Pl6J:function(t,e){},Q1AN:function(t,e){},SPMj:function(t,e){},TuEr:function(t,e){},V1Za:function(t,e){},fCwO:function(t,e){},gKeQ:function(t,e){},i3WX:function(t,e){},iyff:function(t,e){},"ji+F":function(t,e){},mcbk:function(t,e){},otFR:function(t,e){},r3mI:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.783bbda30137b3c65041.js.map